{"body": [{"indent": 0, "text": ["HQueue Scheduler"], "type": "title", "extent": [87, 108], "level": 0}, {"indent": 0, "type": "summary", "extent": [108, 151], "text": ["Schedules work items using HQueue."]}, {"indent": 0, "type": "para", "extent": [151, 259], "text": ["This will schedule work items using ", {"text": ["HQueue"], "fullpath": "/hqueue/overview", "scheme": null, "type": "link", "value": "/hqueue/overview"}, " in order to execute them on remote machines."]}, {"body": [{"indent": 0, "type": "para", "extent": [278, 717], "text": ["This scheduler can operate in two different cook modes.  The normal cook mode is used when selecting ", {"text": ["cook"], "type": "ui"}, " from any of the menus or buttons in the TOP UI.  It will connect to your HQueue scheduler and create jobs for work items as they become ready to execute.  The jobs will then communicate back to the submitting machine with status changes.  This means the submitting Houdini session must remain open for the duration of the cook."]}, {"indent": 0, "type": "para", "extent": [717, 1243], "text": ["Alternatively the ", {"text": ["Submit Graph As Job"], "type": "ui"}, " button can be used to cook the entire TOP Network as a standalone job.  In this mode, the submitting Houdini session is detached from the cooking of the TOP Network.  The hip file will be copied if necessary, and a Hython process will execute the TOP network as normal, using whatever the default scheduler is for that topnet.  In this mode you will not see any updates in your current Houdini session.  You should instead check the progress of your job using the HQueue web portal."]}], "indent": 0, "level": 2, "text": ["Cook Modes"], "extent": [259, 278], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [1297, 1436], "text": ["When the schedule submits a work item to HQueue, it will add this attribute\n    to the work item in order to track the HQueue job id."]}], "indent": 0, "text": [{"text": ["hqueue_jobid"], "type": "code"}], "role": "item", "attrs": {"type": "integer"}, "extent": [1259, 1277], "type": "top_attributes_item"}], "container": true, "role": "item_group", "type": "top_attributes_item_group"}], "indent": 0, "level": 1, "text": "Top_attributes", "role": "section", "extent": [1243, 1259], "container": true, "type": "top_attributes_section", "id": "top_attributes"}, {"body": [{"indent": 0, "type": "para", "extent": [1448, 1519], "text": ["These are global parameters for all work items using this scheduler."]}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [1577, 1957], "text": ["Called when the scheduler should cook the entire TOP Network as a standalone\n    job. Displays the status URI for the submitted job.  The submitting Houdini session is detached from the cooking of the TOP Network.  The hip file will be copied if necessary, and a Hython process will execute the TOP network as normal, using whatever the default scheduler is for that topnet."]}], "indent": 0, "text": ["Submit Graph As Job"], "role": "item", "attrs": {"id": "submitjob"}, "extent": [1535, 1557], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"indent": 4, "type": "para", "extent": [2014, 2230], "text": ["When submitting the graph as a job, this indicates if a data layer server\n    should be started before cooking the graph. Initiating a data layer server\n    allows remote connections to the graph while cooking."]}], "indent": 0, "text": ["Enable Data Layer Server"], "attrs": {"id": "enabledatalayerserver"}, "extent": [1957, 1982], "type": "para"}, {"body": [{"indent": 4, "type": "para", "extent": [2283, 2438], "text": ["If data layer server is enabled, the server will use this number for\n    the port, if the port number is 0, the system will choose an available port."]}], "indent": 0, "text": ["Data Layer Server Port"], "attrs": {"id": "datalayerserverport"}, "extent": [2230, 2253], "type": "para"}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [44, 440], "text": ["The relative directory where the work will be generating intermediate files \n    and output. The intermediate files will be placed in a subdirectory. \n    For the Local scheduler or Hqueue, typically ", {"text": ["$HIP"], "type": "code"}, " is used. For other \n    schedulers, this should be a relative directory to ", {"text": ["Local Shared Root Path"], "type": "code"}, " \n    and ", {"text": ["Remote Shared Root Path"], "type": "code"}, "; this path is then appended to these root paths."]}], "indent": 0, "text": ["Working Directory"], "role": "item", "attrs": {"id": "pdg_workingdir"}, "extent": [0, 19], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2510, 2573], "text": ["The name of the top-level HQueue Job for submitted cooks."]}], "indent": 0, "text": ["Job Name"], "role": "item", "attrs": {"id": "jobname"}, "extent": [2482, 2492], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2612, 2720], "text": ["The description of the top-level HQueue Job.  This can be seen in the Job \n    Properties for the Job."]}], "indent": 0, "text": ["Job Description"], "role": "item", "attrs": {"id": "description"}, "extent": [2573, 2590], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2777, 2851], "text": ["Enables overriding the location of the local shared root directory."]}], "indent": 0, "text": ["Override Local Shared Root"], "role": "item", "attrs": {"id": "uselocalsharedroot"}, "extent": [2720, 2748], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [2933, 3006], "text": ["Queries the HQueue server to retrieve the local shared root paths."]}], "indent": 0, "text": ["Load from HQueue"], "role": "item", "attrs": {"id": "queryhq"}, "extent": [2896, 2915], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3045, 3089], "text": ["The local shared root path on Windows."]}], "indent": 0, "text": ["Windows"], "role": "item", "attrs": {"id": "localsharedroot_win"}, "extent": [3006, 3015], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3129, 3171], "text": ["The local shared root path on macOS."]}], "indent": 0, "text": ["macOS"], "role": "item", "attrs": {"id": "localsharedroot_macosx"}, "extent": [3089, 3096], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3210, 3252], "text": ["The local shared root path on Linux."]}], "indent": 0, "text": ["Linux"], "role": "item", "attrs": {"id": "localsharedroot_linux"}, "extent": [3171, 3178], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3285, 3348], "text": ["URL of the HQueue server. Example: http://localhost:5000"]}], "indent": 0, "text": ["HQueue Server"], "role": "item", "attrs": {"id": "address"}, "extent": [3252, 3267], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3393, 3436], "text": ["Enable to use the ", {"text": ["Universal HFS"], "type": "ui"}, "."]}], "indent": 0, "text": ["Use Universal HFS"], "role": "item", "attrs": {"id": "useuniversalhfs"}, "extent": [3348, 3367], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3478, 3532], "text": ["A platform-agnostic path to the $HFS directory."]}], "indent": 0, "text": ["Universal HFS"], "role": "item", "attrs": {"id": "hfspathuniversal"}, "extent": [3436, 3451], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Local Shared Root Paths"], "extent": [2851, 2896], "container": true, "type": "h", "id": "sharedroot"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [3599, 3626], "text": ["$HFS path for Linux."]}], "indent": 0, "text": ["Linux HFS Path"], "role": "item", "attrs": {"id": "hfs_linux_path"}, "extent": [3557, 3574], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3668, 3695], "text": ["$HFS path for macOS."]}], "indent": 0, "text": ["macOS HFS Path"], "role": "item", "attrs": {"id": "hfs_macosx_path"}, "extent": [3626, 3642], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3740, 3768], "text": ["$HFS path for Windows."]}], "indent": 0, "text": ["Windows HFS Path"], "role": "item", "attrs": {"id": "hfs_windows_path"}, "extent": [3695, 3713], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["HFS Per Platform"], "extent": [3532, 3557], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Scheduler"], "extent": [1519, 1535], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [3833, 3968], "text": ["Set the TCP Port used by the Message Queue Server for the XMLRPC callback API.  The port must be accessible between farm clients."]}], "indent": 0, "text": ["Task Callback Port"], "role": "item", "attrs": {"id": "taskcallbackport"}, "extent": [3786, 3806], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4002, 4207], "text": ["Set the TCP Port used by the Message Queue Server connection between PDG and the client that is running the Message Queue Command.  The port must be reachable on farm clients by the PDG/user machine."]}], "indent": 0, "text": ["Relay Port"], "role": "item", "attrs": {"id": "mqrelayport"}, "extent": [3968, 3980], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Message Queue"], "extent": [3768, 3786], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"type": "para", "indent": 4, "extent": [592, 666], "text": ["The maximum number of ready item onSchedule callbacks between ticks."]}], "indent": 0, "text": ["Max Items Per Tick"], "role": "item", "attrs": {"id": "pdg_maxitems"}, "extent": [549, 569], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [478, 549], "text": ["The minimum time in seconds between calls to the onTick callback."]}], "indent": 0, "text": ["Tick Period"], "role": "item", "attrs": {"id": "pdg_tickperiod"}, "extent": [440, 453], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Job Timing"], "extent": [4207, 4222], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [4325, 4473], "text": ["These job specific parameters can be overridden by each node under the\n", {"text": ["HQueue Scheduler"], "type": "ui"}, " tab on the node\u2019s ", {"text": ["Schedulers"], "type": "ui"}, " parameter interface."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [4513, 4662], "text": ["The job\u2019s HQueue priority. Jobs with higher priorities are scheduled and processed before jobs with lower priorities. 0 is the lowest priority."]}], "indent": 0, "text": ["Job Priority"], "role": "item", "attrs": {"id": "hqueue_priority"}, "extent": [4473, 4487], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4700, 4735], "text": ["Specify clients to assign to."]}, {"indent": 4, "type": "para", "extent": [4735, 4778], "text": [{"text": ["Any Client:"], "type": "ui"}, " Assign to any client."]}, {"indent": 4, "type": "para", "extent": [4778, 4832], "text": [{"text": ["Listed Clients:"], "type": "ui"}, " Assign to specified clients."]}, {"indent": 4, "type": "para", "extent": [4832, 4905], "text": [{"text": ["Clients from Listed Groups:"], "type": "ui"}, " Assign to specified client groups."]}], "indent": 0, "text": ["Assign To"], "role": "item", "attrs": {"id": "hqueue_assign_to"}, "extent": [4662, 4673], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4939, 5001], "text": ["Names of clients to assign jobs to, separated by space."]}], "indent": 0, "text": ["Clients"], "role": "item", "attrs": {"id": "hqueue_clients"}, "extent": [4905, 4914], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5042, 5105], "text": ["Select clients from HQueue to populate the Clients list."]}], "indent": 0, "text": ["Select Clients"], "role": "item", "attrs": {"id": "select_clients"}, "extent": [5001, 5017], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5151, 5219], "text": ["Names of client groups to assign jobs to, separated by space."]}], "indent": 0, "text": ["Client Groups"], "role": "item", "attrs": {"id": "hqueue_client_groups"}, "extent": [5105, 5120], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5265, 5340], "text": ["Select client groups from HQueue to populate the Client Groups list."]}], "indent": 0, "text": ["Select Groups"], "role": "item", "attrs": {"id": "select_client_groups"}, "extent": [5219, 5234], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5403, 5459], "text": ["Enable setting the number of CPUs to use per job."]}], "indent": 0, "text": ["Set Number of CPUs per Job"], "role": "item", "attrs": {"id": "hqueue_is_CPU_number_set"}, "extent": [5340, 5368], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5502, 5943], "text": ["The maximum number of CPUs that will be consumed by the job. If the number exceeds a client machine\u2019s number of CPUs, then the client machine will not be assigned to any the job.  Note that multithreading of some jobs can be controlled with ", {"text": ["Houdini Max Threads"], "type": "ui"}, ".  If this is not set, and if ", {"text": ["Houdini Max Threads"], "type": "ui"}, " is also not set, then the job will have the 'single' tag applied, to ensure that only one will run on a given client."]}], "indent": 0, "text": ["CPUs per Job"], "role": "item", "attrs": {"id": "hqueue_CPUs_to_use"}, "extent": [5459, 5473], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5999, 6155], "text": ["Set the ", {"text": ["HOUDINI_MAXTHREADS"], "type": "ui"}, " environment to the given value.  By default ", {"text": ["HOUDINI_MAXTHREADS"], "type": "ui"}, " is set to the value of ", {"text": ["CPUs per Job"], "type": "ui"}, ", if enabled."]}, {"indent": 4, "type": "para", "extent": [6155, 6216], "text": ["The default of 0 means to use all available processors."]}, {"indent": 4, "type": "para", "extent": [6216, 6439], "text": ["Positive values will limit the number of threads that can be used. A value of 1 will disable multithreading entirely (limiting to only one thread). Positive values will be clamped to the number of CPU cores available."]}, {"indent": 4, "type": "para", "extent": [6439, 6619], "text": ["If the value is negative, the value is added to the maximum number of processors to determine the threading limit. For example, a value of -1 will use all CPU cores except 1."]}, {"indent": 4, "type": "para", "extent": [6619, 6679], "text": ["See ", {"fragment": "#limits", "text": ["limiting resource usage"], "value": "/tops/schedulers#limits", "fullpath": "/tops/schedulers#limits", "scheme": null, "type": "link"}, "."]}], "indent": 0, "text": ["Houdini Max Threads"], "role": "item", "attrs": {"id": "hqueue_houdinimaxthreads"}, "extent": [5943, 5964], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6725, 6764], "text": ["Description property for the job."]}], "indent": 0, "text": ["Job Description"], "role": "item", "attrs": {"id": "hqueue_description"}, "extent": [6679, 6696], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6800, 6862], "text": ["Number of times to retry the job when the command fails."]}], "indent": 0, "text": ["Retries"], "role": "item", "attrs": {"id": "hqueue_triesleft"}, "extent": [6764, 6773], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"indent": 0, "type": "para", "extent": [25, 93], "text": ["Additional work item environment variables can be specified here."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [124, 182], "text": ["Name of the work item environment variable."]}], "indent": 0, "text": ["Name"], "role": "item", "attrs": {"id": "local_envname#"}, "extent": [93, 99], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [215, 264], "text": ["Value of the work item environment variable."]}], "indent": 0, "text": ["Value"], "role": "item", "attrs": {"id": "local_envvalue#"}, "extent": [182, 189], "type": "parameters_item"}], "container": true, "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Task Environment"], "extent": [0, 25], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [6966, 7031], "text": ["The hostname of the machine that the job should execute on."]}], "indent": 0, "text": ["Allowed Host"], "role": "item", "attrs": {"id": "hqueue_host"}, "extent": [6929, 6944], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7059, 7090], "text": ["Space-separated job tags."]}], "indent": 0, "text": ["Tags"], "role": "item", "attrs": {"id": "hqueue_tags"}, "extent": [7031, 7037], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7135, 7201], "text": ["Additional job conditions to pass to HQueue in JSON format."]}], "indent": 0, "text": ["Conditions JSON"], "role": "item", "attrs": {"id": "hqueue_conditions"}, "extent": [7090, 7107], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Advanced"], "extent": [6912, 6929], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Job Parms"], "extent": [4309, 4325], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [1436, 1448], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [7210, 7238], "text": [{"text": "", "fullpath": "/nodes/top/localscheduler", "scheme": "Node", "type": "link", "value": "/nodes/top/localscheduler"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [7238, 7267], "text": [{"text": "", "fullpath": "/nodes/top/pythonscheduler", "scheme": "Node", "type": "link", "value": "/nodes/top/pythonscheduler"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [7267, 7297], "text": [{"text": "", "fullpath": "/nodes/top/tractorscheduler", "scheme": "Node", "type": "link", "value": "/nodes/top/tractorscheduler"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [7297, 7330], "text": [{"text": "", "fullpath": "/nodes/top/deadlinescheduler", "scheme": "Node", "type": "link", "value": "/nodes/top/deadlinescheduler"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [7201, 7210], "container": true, "type": "related_section", "id": "related"}], "title": ["HQueue Scheduler"], "summary": ["Schedules work items using HQueue."], "attrs": {"version": null, "namespace": null, "internal": "hqueuescheduler", "context": "top", "type": "node", "icon": "MISC/hqueue_logo"}, "included": ["/nodes/top/_scheduler_common", "/nodes/top/_scheduler_task_env_common"], "type": "root"}