{"body": [{"indent": 0, "text": ["Ocean Foam"], "type": "title", "extent": [0, 15], "level": 0}, {"indent": 0, "type": "summary", "extent": [82, 119], "text": ["Generates particle-based foam"]}, {"indent": 0, "type": "para", "extent": [119, 319], "text": ["This node creates foam particles that can be used to enhance rendering of an ocean surface.  The input is a\none or more merged ", {"text": ["Ocean Spectrum"], "fullpath": "/nodes/sop/oceanspectrum", "scheme": "Node", "type": "link", "value": "/nodes/sop/oceanspectrum"}, " layers that comprise the ocean."]}, {"indent": 0, "type": "para", "extent": [319, 354], "text": ["There are two modes for this SOP:"]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [365, 567], "text": ["Particles are created within a specified region based on various emission criteria from the input ocean layers.  These particles could then be fed into any custom particle simulation for emission."]}], "indent": 0, "type": "dt", "extent": [354, 365], "text": [{"text": ["Emitter"], "type": "code"}]}, {"body": [{"indent": 4, "type": "para", "extent": [577, 937], "text": ["Foam particles are created according to the various emission criteria then run through a 2-D particle simulation that incorporates the ocean velocity and neighboring particle proximity to give realistic foam behavior.  The output of this mode can be used directly for rendering foam with the ", {"text": ["Ocean Surface"], "fullpath": "/gallery/shop/vopmaterial/oceansurface", "scheme": null, "type": "link", "value": "/gallery/shop/vopmaterial/oceansurface"}, " shader."]}], "indent": 0, "type": "dt", "extent": [567, 577], "text": [{"text": ["Solver"], "type": "code"}]}], "container": true, "type": "dt_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [956, 1096], "text": [{"text": ["Emitter"], "type": "code"}, " will create particles according to emission criteria.  ", {"text": ["Solver"], "type": "code"}, " will also run those particles through a 2-d foam simulation."]}], "indent": 0, "text": ["Mode"], "role": "item", "extent": [949, 956], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"indent": 0, "type": "para", "extent": [1111, 1159], "text": ["This section controls foam particle emission."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [1177, 1377], "text": ["The density of particles to emit per unit of area, before culling by the emission criteria.  Increasing this value will give more detailed foam renders at the expense of a higher particle count."]}], "indent": 0, "text": ["Particle Density"], "role": "item", "extent": [1159, 1177], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [1398, 1450], "text": ["The type of region used for the emission area."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [1460, 1509], "text": ["Emit particles over the specified grid."]}], "indent": 4, "type": "dt", "extent": [1450, 1460], "text": ["Grid"]}, {"body": [{"indent": 8, "type": "para", "extent": [1521, 1589], "text": ["Emit particles within the frustum of the specified camera."]}], "indent": 4, "type": "dt", "extent": [1509, 1521], "text": ["Camera"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Type"], "role": "item", "extent": [1392, 1398], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1595, 1643], "text": ["The world space size of the emission grid."]}], "indent": 0, "text": ["Size"], "role": "item", "extent": [1589, 1595], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1651, 1701], "text": ["The world space center of the emission grid."]}], "indent": 0, "text": ["Center"], "role": "item", "extent": [1643, 1651], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1709, 1767], "text": ["Restrict emission to the specified camera\u2019s frustum."]}], "indent": 0, "text": ["Camera"], "role": "item", "extent": [1701, 1709], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1775, 1833], "text": ["The distance from the camera to start emitting foam."]}], "indent": 0, "text": ["Z Near"], "role": "item", "extent": [1767, 1775], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1840, 1897], "text": ["The distance from the camera to stop emitting foam."]}], "indent": 0, "text": ["Z Far"], "role": "item", "extent": [1833, 1840], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1909, 2075], "text": ["The min/max portions of the camera\u2019s view for emission. This allows you to add padding to ensure good boundary conditions or focus into a key area of the scene."]}], "indent": 0, "text": ["Window X/Y"], "role": "item", "extent": [1897, 1909], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2094, 2343], "text": ["Areas that are farther from the camera along the z-axis will emit fewer particles with a larger radius for less expensive simulation and rendering at a distance.  When set to 0, the distance from camera will have no effect on particle density."]}], "indent": 0, "text": ["Z Density Falloff"], "role": "item", "extent": [2075, 2094], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Region"], "extent": [1377, 1392], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [2362, 2457], "text": ["This section controls the emission criteria.  All enabled criteria must be met for emission."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [2467, 2535], "text": ["Emit foam where the ocean waves are above this cusp level.    "]}], "indent": 0, "text": ["Min Cusp"], "role": "item", "extent": [2457, 2467], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2549, 2625], "text": ["Emit foam where the ocean waves are moving faster than this speed.    "]}], "indent": 0, "text": ["Min Velocity"], "role": "item", "extent": [2535, 2549], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2637, 2697], "text": ["Emit foam where the ocean waves are above this height."]}], "indent": 0, "text": ["Min Height"], "role": "item", "extent": [2625, 2637], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Conditions"], "extent": [2343, 2362], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [2722, 2824], "text": ["This section controls how the input ocean layers are evaluated when generating and simulating foam."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [2830, 2884], "text": ["The time at which to evaluate the ocean surface."]}], "indent": 0, "text": ["Time"], "role": "item", "extent": [2824, 2830], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2896, 3279], "text": ["Downsample the incoming ocean spectra before evaluating any ocean values.  This parameter specifies the number of powers of two to remove from the resolution of the incoming ocean spectrum. For example, if the spectrum was originally specified at resolution 10 to generate a 1024 x 1024 volume, downsampling by 2 will evaluate ocean volumes at resolution 8, a 256 x 256 volume."]}], "indent": 0, "text": ["Downsample"], "role": "item", "extent": [2884, 2896], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3299, 3572], "text": ["By default the particles are output in 2-d \"rest\" space, as expected by the ", {"text": ["Ocean Surface"], "fullpath": "/gallery/shop/vopmaterial/oceansurface", "scheme": null, "type": "link", "value": "/gallery/shop/vopmaterial/oceansurface"}, " shader.  Enabling this option will output the particles displaced by the ocean waves, usually for custom simulation or later processing."]}], "indent": 0, "text": ["Displace Particles"], "role": "item", "extent": [3279, 3299], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Ocean Evaluation"], "extent": [2697, 2722], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Emission"], "extent": [1096, 1111], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [3585, 3630], "text": ["This section controls the foam simulation."]}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [3661, 3718], "text": ["How long the foam particles will live (in seconds)."]}], "indent": 0, "text": ["Life Expectancy"], "role": "item", "extent": [3643, 3661], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3733, 3871], "text": ["Foam particles will live the number of seconds in ", {"text": ["Life Expectancy"], "type": "ui"}, ", plus or minus this number of seconds. Use 0 for no variance. "]}], "indent": 0, "text": ["Life Variance"], "role": "item", "extent": [3718, 3733], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3883, 4067], "text": ["The amount of ", {"text": ["horizontal"], "type": "em"}, " ocean velocity to impart to the foam particles.  Increasing this value will increase the amount of squashing and stretching of the foam on the surface."]}], "indent": 0, "text": ["Drift Rate"], "role": "item", "extent": [3871, 3883], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4082, 4261], "text": ["Increase or decrease the lifespan of foam particles based on the local density of particles, which can help create clumps and streaks of foam on the ocean surface over time."]}], "indent": 0, "text": ["Preserve Foam"], "role": "item", "extent": [4067, 4082], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4279, 4463], "text": ["When the number of particles surrounding a foam particle lies in the range of this value down to zero, proportionally reduce its lifespan each timestep by the ", {"text": ["Reduction Rate"], "type": "ui"}, "."]}], "indent": 0, "text": ["Min Foam Density"], "role": "item", "extent": [4261, 4279], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4481, 4685], "text": ["When the number of particles surrounding a foam particle lies in the range of  ", {"text": ["Min Foam Density"], "type": "ui"}, " up to this value, proportionally increase its lifespan each timestep by the ", {"text": ["Preservation Rate"], "type": "ui"}, "."]}], "indent": 0, "text": ["Max Foam Density"], "role": "item", "extent": [4463, 4481], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4704, 4973], "text": ["The proportional amount to increase the lifespan of a foam particle with sufficiently high local foam density.  This value is the number of seconds to add per second, so if greater than one can effectively preserve high density foam clumps from ever being killed."]}], "indent": 0, "text": ["Preservation Rate"], "role": "item", "extent": [4685, 4704], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4989, 5176], "text": ["The proportional amount to decrease the lifespan of a foam particle with sufficiently low local foam density.  This value is the number of seconds to reduce the lifespan per second."]}], "indent": 0, "text": ["Reduction Rate"], "role": "item", "extent": [4973, 4989], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5193, 5465], "text": ["The list of attributes to keep from the foam simulation.  The defaults of ", {"text": ["pscale"], "type": "code"}, ", ", {"text": ["rest"], "type": "code"}, ", ", {"text": ["age"], "type": "code"}, ", and ", {"text": ["life"], "type": "code"}, " are required for proper rendering with the ", {"text": ["Ocean Surface"], "fullpath": "/gallery/shop/vopmaterial/oceansurface", "scheme": null, "type": "link", "value": "/gallery/shop/vopmaterial/oceansurface"}, " shader.  Set this parameter to ", {"text": ["*"], "type": "code"}, " to keep all attributes."]}], "indent": 0, "text": ["Keep Attributes"], "role": "item", "extent": [5176, 5193], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Foam"], "extent": [3630, 3643], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Solver"], "extent": [3572, 3585], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [5500, 5541], "text": ["Clears the entire simulation cache."]}], "indent": 0, "text": ["Reset Simulation"], "role": "item", "extent": [5482, 5500], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5554, 5694], "text": ["The starting frame for the simulation.  Set this parameter earlier than your initial render frame to pre-populate the ocean with foam."]}], "indent": 0, "text": ["Start Frame"], "role": "item", "extent": [5541, 5554], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5704, 5759], "text": ["The number of substeps to take in the simulation."]}], "indent": 0, "text": ["Substeps"], "role": "item", "extent": [5694, 5704], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5777, 5812], "text": ["Enables the simulation cache."]}], "indent": 0, "text": ["Cache Simulation"], "role": "item", "extent": [5759, 5777], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5831, 5933], "text": ["Specifies how much memory in megabytes can be consumed by the cache for\n    the foam simulation."]}], "indent": 0, "text": ["Cache Memory (MB)"], "role": "item", "extent": [5812, 5831], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Simulation"], "extent": [5465, 5482], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [937, 949], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [5942, 5985], "text": [{"text": ["Ocean Spectrum"], "fullpath": "/nodes/sop/oceanspectrum", "scheme": "Node", "type": "link", "value": "/nodes/sop/oceanspectrum"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [5985, 6027], "text": [{"text": ["Ocean Evaluate"], "fullpath": "/nodes/sop/oceanevaluate", "scheme": "Node", "type": "link", "value": "/nodes/sop/oceanevaluate"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [6027, 6085], "text": ["[Ocean Surface|/gallery/shop/vopmaterial/oceansurface\n]"]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [5933, 5942], "container": true, "type": "related_section", "id": "related"}], "summary": ["Generates particle-based foam"], "type": "root", "attrs": {"version": null, "namespace": null, "internal": "oceanfoam", "context": "sop", "type": "node", "icon": "SHELF/wave"}, "title": ["Ocean Foam"]}